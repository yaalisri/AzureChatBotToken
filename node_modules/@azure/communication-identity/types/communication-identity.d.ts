import { CommunicationUserIdentifier } from '@azure/communication-common';
import { KeyCredential } from '@azure/core-auth';
import { OperationOptions } from '@azure/core-http';
import { PipelineOptions } from '@azure/core-http';
import { TokenCredential } from '@azure/core-auth';

/**
 * The access token for a user.
 */
export declare interface CommunicationAccessToken {
    /**
     * The access token issued for the user.
     */
    token: string;
    /**
     * The expiry time of the token.
     */
    expiresOn: Date;
}

/**
 * Client class for interacting with Azure Communication Services User Token Management.
 */
export declare class CommunicationIdentityClient {
    /**
     * A reference to the auto-generated UserToken HTTP client.
     */
    private readonly client;
    /**
     * Initializes a new instance of the CommunicationIdentity class.
     * @param connectionString - Connection string to connect to an Azure Communication Service resource.
     *                         Example: "endpoint=https://contoso.eastus.communications.azure.net/;accesskey=secret";
     * @param options - Optional. Options to configure the HTTP pipeline.
     */
    constructor(connectionString: string, options?: CommunicationIdentityClientOptions);
    /**
     * Initializes a new instance of the CommunicationIdentity class using an Azure KeyCredential.
     * @param endpoint - The endpoint of the service (ex: https://contoso.eastus.communications.azure.net).
     * @param credential - An object that is used to authenticate requests to the service. Use the AzureKeyCredential or `@azure/identity` to create a credential.
     * @param options - Optional. Options to configure the HTTP pipeline.
     */
    constructor(endpoint: string, credential: KeyCredential, options?: CommunicationIdentityClientOptions);
    /**
     * Initializes a new instance of the CommunicationIdentity class using a TokenCredential.
     * @param endpoint - The endpoint of the service (ex: https://contoso.eastus.communications.azure.net)
     * @param credential - TokenCredential that is used to authenticate requests to the service.
     * @param options - Optional. Options to configure the HTTP pipeline.
     */
    constructor(endpoint: string, credential: TokenCredential, options?: CommunicationIdentityClientOptions);
    /**
     * Creates a scoped user token.
     *
     * @param user - The user whose tokens are being issued.
     * @param scopes - Scopes to include in the token.
     * @param options - Additional options for the request.
     */
    getToken(user: CommunicationUserIdentifier, scopes: TokenScope[], options?: OperationOptions): Promise<CommunicationAccessToken>;
    /**
     * Revokes all data and tokens created for a user.
     *
     * @param user - The user whose tokens are being revoked.
     * @param options - Additional options for the request.
     */
    revokeTokens(user: CommunicationUserIdentifier, options?: OperationOptions): Promise<void>;
    /**
     * Creates a single user.
     *
     * @param options - Additional options for the request.
     */
    createUser(options?: OperationOptions): Promise<CommunicationUserIdentifier>;
    /**
     * Creates a single user and a token simultaneously.
     *
     * @param scopes - Scopes to include in the token.
     * @param options - Additional options for the request.
     */
    createUserAndToken(scopes: TokenScope[], options?: OperationOptions): Promise<CommunicationUserToken>;
    /**
     * Triggers revocation event for user and deletes all its data.
     *
     * @param user - The user being deleted.
     * @param options - Additional options for the request.
     */
    deleteUser(user: CommunicationUserIdentifier, options?: OperationOptions): Promise<void>;
}

/**
 * Client options used to configure the CommunicationIdentity API requests.
 */
export declare interface CommunicationIdentityClientOptions extends PipelineOptions {
}

/**
 * The issued token and the user it was issued for.
 */
export declare interface CommunicationUserToken extends CommunicationAccessToken {
    /**
     * Represents the user the token was issued for
     */
    user: CommunicationUserIdentifier;
}

/**
 * Represents the scope of the token.
 */
export declare type TokenScope = "chat" | "voip";

export { }
